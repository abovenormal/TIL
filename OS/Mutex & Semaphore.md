# Mutex(뮤텍스) & Semaphore(세마포어)

---

<details><summary style="color:skyblue">예시 답변</summary>
<p>

- 뮤텍스는 동기화 대상이 오직 1개 일때 사용하며, 세마포어는 동기화 대상이 1개 이상 일때 사용합니다.
- 뮤텍스는 자원을 소유할 수 있고 책임을 가지나, 세마포어는 자원 소유가 불가능합니다.
- 뮤택스는 상태가 0,1 이므로 락을 가질 수 있고, 소유하고 있는 스레드만이 뮤텍스를 해제할 수 있습니다. 반면 세마포어는 세마포어를 소유하지 않는 스레드가 세마포어를 해제할 수 있습니다.
- 세마포어는 시스템 범위에 걸쳐 있고, 파일 시스템 상의 파일로 존재합니다. 반면 뮤텍스는 프로세스의 범위를 가지며 프로세스 종료 될때 자동으로 clean up 됩니다.
- 뮤텍스와 세마포어는 모두 완벽한 기법은 아니므로 데이터 무결성을 보장할 수는 없으며 모든 교착상태를 해결하지는 못합니다. 하지만 상호배제를 위한 기본적인 문법이며 여기에 좀 더 복잡한 매커니즘을 적용해 개선된 성능을 가질 수 있도록 하는 것이 중요합니다.

</p>
</details>

## Mutex

- 공유된 자원의 데이터 혹은 임계영역 등에 하나의 프로세스 혹은 스레드가 접근하는 것을 막아줌(동기화 대상이 하나!)
- 한 프로세스에 의해 소유될 수 있는 key를 기반으로 한 상호배제 기법이고, Key에 해당하는 어떤 객체가 있으며, 이 객체를 소유한 스레드/프로세스만이 공유자원에 접근 할 수 있다.
- 다중 프로세스들의 공유 리소스에 대한 접근을 조율하기 위해 동기화, 또는 락을 사용함으로써 뮤텍스 객체를 두 스레드가 동시에 사용할 수 없다.

## Semaphore

- 공유된 자원의 데이터 혹은 임계영역(Critical Section) 등에 여러 Process 혹은 Thread가 접근하는 것을 막아줌 (동기화 대상이 하나 이상)
- 사용하고 있는 스레드/프로세스의 수를 공통으로 관리하는 하나의 값을 이용해 상호배제를 달성함.
- 공유 자원에 접근할 수 있는 프로세스의 최대 허용치만큼 동시에 사용자가 접근할 수 있으며, 각 프로세스는 세마포어의 값을 확인하고 변경할 수 있다.
- 자원을 사용하지 않는 상태가 될 때, 대기하던 프로세스가 즉시 자원을 사용하고. 이미 다른 프로세스에 의해 사용중이라는 사실을 알게 되면, 재시도 전에 일정시간 대기함.

[참고사이트 1](https://heeonii.tistory.com/14)
